<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åšå®¢ç®¡ç†ç³»ç»Ÿ - æ¨¡å—ç±»å›¾æŠ¥å‘Š</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --bg-color: #f8f9fa;
            --card-bg: #ffffff;
            --text-color: #2c3e50;
            --border-color: #e9ecef;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 20px;
            background: var(--card-bg);
            border-radius: 15px;
            box-shadow: var(--shadow);
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .module-section {
            margin-bottom: 40px;
            background: var(--card-bg);
            border-radius: 15px;
            padding: 30px;
            box-shadow: var(--shadow);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .module-section:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .module-title {
            font-size: 2em;
            color: var(--primary-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid var(--secondary-color);
            position: relative;
        }

        .module-title::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 50px;
            height: 3px;
            background: var(--accent-color);
        }

        .mermaid-container {
            background: #fafbfc;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            overflow: auto;
            position: relative;
        }

        .mermaid-container::before {
            content: 'ğŸ“Š';
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.5em;
            opacity: 0.3;
        }

        .mermaid {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 300px;
        }

        .description {
            background: linear-gradient(45deg, #f8f9fa, #e9ecef);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid var(--secondary-color);
        }

        .toc {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: var(--shadow);
        }

        .toc h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .toc ul {
            list-style: none;
        }

        .toc li {
            margin: 10px 0;
            padding: 10px 15px;
            background: var(--bg-color);
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .toc li:hover {
            background: var(--secondary-color);
            color: white;
            transform: translateX(10px);
        }

        .toc a {
            text-decoration: none;
            color: inherit;
            font-weight: 500;
        }

        .pattern-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
            box-shadow: var(--shadow);
        }

        .pattern-section h2 {
            margin-bottom: 20px;
        }

        .pattern-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .pattern-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        .pattern-item h3 {
            color: #ffd700;
            margin-bottom: 10px;
        }

        .footer {
            text-align: center;
            padding: 30px;
            background: var(--primary-color);
            color: white;
            border-radius: 15px;
            margin-top: 40px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .module-section {
                padding: 20px;
            }
            
            .pattern-list {
                grid-template-columns: 1fr;
            }
        }

        /* Mermaid å›¾è¡¨è‡ªå®šä¹‰æ ·å¼ */
        .mermaid .node rect {
            fill: #e3f2fd !important;
            stroke: #1976d2 !important;
            stroke-width: 2px !important;
        }

        .mermaid .node text {
            fill: #1565c0 !important;
            font-weight: 600 !important;
        }

        .mermaid .edgePath path {
            stroke: #424242 !important;
            stroke-width: 2px !important;
        }

        .mermaid .edgeLabel {
            background-color: #fff !important;
            border: 1px solid #ddd !important;
            border-radius: 4px !important;
            padding: 2px 6px !important;
        }

        /* åŠ è½½åŠ¨ç”» */
        .loading {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 3px solid var(--border-color);
            border-radius: 50%;
            border-top-color: var(--secondary-color);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* å¹³æ»‘æ»šåŠ¨ */
        html {
            scroll-behavior: smooth;
        }

        /* é«˜äº®æ•ˆæœ */
        .highlight {
            background: linear-gradient(120deg, #a8edea 0%, #fed6e3 100%);
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å¤´éƒ¨ -->
        <div class="header">
            <h1>ğŸ—ï¸ åšå®¢ç®¡ç†ç³»ç»Ÿ</h1>
            <p>æ¨¡å—æ¶æ„ä¸ç±»å›¾è®¾è®¡æŠ¥å‘Š</p>
            <p style="font-size: 0.9em; margin-top: 10px;">ç”Ÿæˆæ—¥æœŸ: 2025å¹´6æœˆ9æ—¥</p>
        </div>

        <!-- ç›®å½• -->
        <div class="toc">
            <h2>ğŸ“‹ ç›®å½•å¯¼èˆª</h2>
            <ul>
                <li><a href="#model-module">1. æ ¸å¿ƒæ•°æ®æ¨¡å‹æ¨¡å—</a></li>
                <li><a href="#config-module">2. é…ç½®ç®¡ç†æ¨¡å—</a></li>
                <li><a href="#repository-module">3. æ•°æ®è®¿é—®å±‚æ¨¡å—</a></li>
                <li><a href="#controller-module">4. æ§åˆ¶å™¨å±‚æ¨¡å—</a></li>
                <li><a href="#llm-service-module">5. LLMæœåŠ¡æ¨¡å—</a></li>
                <li><a href="#llm-factory-module">6. LLMå·¥å‚æ¨¡å¼æ¨¡å—</a></li>
                <li><a href="#llm-comm-module">7. LLMé€šä¿¡æ¨¡å—</a></li>
                <li><a href="#main-module">8. ä¸»åº”ç”¨ç¨‹åºæ¨¡å—</a></li>
                <li><a href="#dependency-graph">9. æ¨¡å—é—´ä¾èµ–å…³ç³»å›¾</a></li>
                <li><a href="#design-patterns">10. å…³é”®è®¾è®¡æ¨¡å¼</a></li>
            </ul>
        </div>

        <!-- 1. æ ¸å¿ƒæ•°æ®æ¨¡å‹æ¨¡å— -->
        <div class="module-section" id="model-module">
            <h2 class="module-title">1. æ ¸å¿ƒæ•°æ®æ¨¡å‹æ¨¡å— (Model Module)</h2>
            <div class="description">
                <p>è´Ÿè´£å®šä¹‰ç³»ç»Ÿçš„æ ¸å¿ƒæ•°æ®å®ä½“ï¼ŒåŒ…æ‹¬åšå®¢å¯¹è±¡å’Œæ¶ˆæ¯å“åº”å¯¹è±¡ã€‚<span class="highlight">Blog</span>ç±»å®ç°äº†<span class="highlight">Comparable</span>å’Œ<span class="highlight">Cloneable</span>æ¥å£ï¼Œæ”¯æŒæ’åºå’Œå…‹éš†æ“ä½œã€‚</p>
            </div>
            <div class="mermaid-container">
                <div class="mermaid">
                    classDiagram
                        class Blog {
                            -Path filepath
                            -String filename
                            -String title
                            -LocalDateTime dateTime
                            -String categories
                            -String[] tags
                            -String saying
                            -String content
                            -DateTimeFormatter formatter$
                            -DateTimeFormatter formatterPrint$
                            +clone() Blog
                            +equals(Object) boolean
                            +compareTo(Blog) int
                            +getters/setters()
                            +loadFromFile(Path) Blog
                            +parseYamlFrontMatter(String) void
                            +parseFrontMatterValue(String, String) void
                            +saveToFile() void
                            +toString() String
                        }
                        
                        class Message {
                            -int status
                            -Object data
                            -String error
                            +Message(int, Object, String)
                            +getStatus() int
                            +getData() Object
                            +getError() String
                        }
                        
                        Blog --|> Comparable : implements
                        Blog --|> Cloneable : implements
                </div>
            </div>
        </div>

        <!-- 2. é…ç½®ç®¡ç†æ¨¡å— -->
        <div class="module-section" id="config-module">
            <h2 class="module-title">2. é…ç½®ç®¡ç†æ¨¡å— (Configuration Module)</h2>
            <div class="description">
                <p>ç®¡ç†ç³»ç»Ÿçš„æ‰€æœ‰é…ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬å­˜å‚¨è·¯å¾„å’ŒAPIå¯†é’¥ã€‚ä½¿ç”¨<span class="highlight">@Configuration</span>æ³¨è§£æ ‡è®°ä¸ºSpringé…ç½®ç±»ã€‚</p>
            </div>
            <div class="mermaid-container">
                <div class="mermaid">
                    classDiagram
                        class Config {
                            -String blogStoragePath
                            -String imageStoragePath
                            -String xmodelAPIKey
                            -String bigmodelAPIKey
                            +getXmodelAPIKey() String
                            +setXmodelAPIKey(String) void
                            +getBigmodelAPIKey() String
                            +setBigmodelAPIKey(String) void
                            +getBlogStoragePath() String
                            +setBlogStoragePath(String) void
                            +getImageStoragePath() String
                            +setImageStoragePath(String) void
                        }
                        
                        class ConfigService {
                            -Path configPath
                            -Config config
                            -Logger logger$
                            +ConfigService(String)
                            +loadConfig() void
                            +saveConfig() void
                            +getConfig() Config
                            +setConfig(Config) void
                            +createDefaultConfig() Config
                        }
                        
                        ConfigService --> Config : manages
                        ConfigService : <<@Configuration>>
                </div>
            </div>
        </div>

        <!-- 3. æ•°æ®è®¿é—®å±‚æ¨¡å— -->
        <div class="module-section" id="repository-module">
            <h2 class="module-title">3. æ•°æ®è®¿é—®å±‚æ¨¡å— (Repository Module)</h2>
            <div class="description">
                <p>è´Ÿè´£åšå®¢æ–‡ä»¶çš„å­˜å‚¨ã€æ£€ç´¢å’Œç®¡ç†æ“ä½œã€‚ä½¿ç”¨<span class="highlight">@Service</span>æ³¨è§£æ ‡è®°ä¸ºSpringæœåŠ¡ç»„ä»¶ã€‚</p>
            </div>
            <div class="mermaid-container">
                <div class="mermaid">
                    classDiagram
                        class BlogFileService {
                            -Logger logger$
                            -Path storageLocation
                            -Config config
                            +BlogFileService(Config)
                            +init() void
                            +loadAllBlogs() List~Blog~
                            +saveBlog(Blog) void
                            +deleteBlog(String) boolean
                            +findBlogByFilename(String) Blog
                            +searchBlogs(String) List~Blog~
                            +updateBlog(Blog) void
                            +getBlogContent(String) String
                            +validateBlogPath(Path) Path
                            +sortBlogsByDateTime(List~Blog~) List~Blog~
                        }
                        
                        BlogFileService --> Config : uses
                        BlogFileService --> Blog : manages
                        BlogFileService : <<@Service>>
                </div>
            </div>
        </div>

        <!-- 4. æ§åˆ¶å™¨å±‚æ¨¡å— -->
        <div class="module-section" id="controller-module">
            <h2 class="module-title">4. æ§åˆ¶å™¨å±‚æ¨¡å— (Controller Module)</h2>
            <div class="description">
                <p>æä¾›REST APIæ¥å£ï¼Œå¤„ç†HTTPè¯·æ±‚ã€‚åŒ…æ‹¬åšå®¢ç®¡ç†ã€LLMèŠå¤©ã€å›¾ç‰‡ä¸Šä¼ å’Œé…ç½®ç®¡ç†ç­‰åŠŸèƒ½ã€‚æ‰€æœ‰æ§åˆ¶å™¨éƒ½ä½¿ç”¨<span class="highlight">@RestController</span>æ³¨è§£ã€‚</p>
            </div>
            <div class="mermaid-container">
                <div class="mermaid">
                    classDiagram
                        class BlogController {
                            -Logger logger$
                            -BlogFileService blogFileService
                            -List~Blog~ blogList
                            +BlogController(BlogFileService)
                            +searchBydata(Blog) Blog
                            +getAllBlogs() Message
                            +getBlogByDatetime(String) Message
                            +getBlogByFilename(String) Message
                            +createBlog(Blog) Message
                            +updateBlog(String, Blog) Message
                            +deleteBlog(String) Message
                            +searchBlogs(String) Message
                        }
                        
                        class LLMController {
                            -Logger logger$
                            -LLM llm
                            -Config config
                            -ExecutorService executorService
                            +chat(String, String, String) SseEmitter
                            +chatWithBigModel(String, String) SseEmitter
                            +chatWithXModel(String, String) SseEmitter
                            +createStreamCallback(SseEmitter) StreamCallback
                        }
                        
                        class ImageController {
                            -Logger logger$
                            -Config config
                            +uploadImage(MultipartFile) Message
                            +getImage(String) ResponseEntity
                            +deleteImage(String) Message
                            +listImages() Message
                        }
                        
                        class ConfigController {
                            -Logger logger$
                            -ConfigService configService
                            +getConfig() Message
                            +updateConfig(Config) Message
                            +resetConfig() Message
                        }
                        
                        BlogController --> BlogFileService : uses
                        BlogController --> Blog : manages
                        BlogController --> Message : returns
                        LLMController --> Config : uses
                        ImageController --> Config : uses
                        ConfigController --> ConfigService : uses
                        ConfigController --> Config : manages
                        
                        BlogController : <<@RestController>>
                        LLMController : <<@RestController>>
                        ImageController : <<@RestController>>
                        ConfigController : <<@RestController>>
                </div>
            </div>
        </div>

        <!-- 5. LLMæœåŠ¡æ¨¡å— -->
        <div class="module-section" id="llm-service-module">
            <h2 class="module-title">5. LLMæœåŠ¡æ¨¡å— (LLM Service Module)</h2>
            <div class="description">
                <p>å®ç°å¤§è¯­è¨€æ¨¡å‹çš„æŠ½è±¡å’Œå…·ä½“å®ç°ã€‚ä½¿ç”¨<span class="highlight">æ¨¡æ¿æ–¹æ³•æ¨¡å¼</span>ï¼ŒæŠ½è±¡ç±»<span class="highlight">LLM</span>å®šä¹‰é€šç”¨è¡Œä¸ºï¼Œå…·ä½“å®ç°ç±»å¤„ç†ä¸åŒæ¨¡å‹çš„APIè°ƒç”¨ã€‚</p>
            </div>            <div class="mermaid-container">
                <div class="mermaid">
classDiagram
    class LLM {
        <<abstract>>
        -String APIKey
        -String APIUrl
        -String model
        -ArrayList messagesArray
        -Boolean IsStream
        -String temperature
        +LLM(String, String, String)
        +getAPIKey() String
        +setAPIKey(String) void
        +callLLM(String, String, StreamCallback) void
    }
    
    class BigModel {
        -Logger logger
        +BigModel(String, String, String)
        +callLLM(String, String, StreamCallback) void
        -sendRequest(BigModelPOST, StreamCallback) void
        -handleStreamResponse(BufferedReader, StreamCallback) void
    }
    
    class XModel {
        -Logger logger
        +XModel(String, String, String)
        +callLLM(String, String, StreamCallback) void
        -sendRequest(POST, StreamCallback) void
        -handleStreamResponse(BufferedReader, StreamCallback) void
    }
    
    class BigModelPOST {
        -String temperature
        +BigModelPOST(String, Boolean, String, POSTMessage[])
        +getTemperature() String
        +setTemperature(String) void
    }
    
    class POST {
        -String model
        -Boolean stream
        -POSTMessage[] messages
        +POST(String, Boolean, POSTMessage[])
        +getModel() String
        +setModel(String) void
    }
    
    LLM <|-- BigModel
    LLM <|-- XModel
    BigModel ..> BigModelPOST
    XModel ..> POST
    POST <|-- BigModelPOST
                </div>
            </div>
        </div>

        <!-- 6. LLMå·¥å‚æ¨¡å¼æ¨¡å— -->
        <div class="module-section" id="llm-factory-module">
            <h2 class="module-title">6. LLMå·¥å‚æ¨¡å¼æ¨¡å— (LLM Factory Module)</h2>
            <div class="description">
                <p>ä½¿ç”¨<span class="highlight">å·¥å‚æ¨¡å¼</span>åˆ›å»ºä¸åŒç±»å‹çš„LLMå®ä¾‹ã€‚é€šè¿‡<span class="highlight">FactoryInterface</span>æ¥å£ç»Ÿä¸€åˆ›å»ºé€»è¾‘ï¼Œä¾¿äºæ‰©å±•æ–°çš„æ¨¡å‹ç±»å‹ã€‚</p>
            </div>
            <div class="mermaid-container">
                <div class="mermaid">
                    classDiagram
                        class FactoryInterface {
                            <<interface>>
                            +createLLM() LLM
                        }
                        
                        class BigModelFactory {
                            -Config config
                            +BigModelFactory(Config)
                            +createLLM() LLM
                        }
                        
                        class XModelFactory {
                            -Config config
                            +XModelFactory(Config)
                            +createLLM() LLM
                        }
                        
                        BigModelFactory --|> FactoryInterface : implements
                        XModelFactory --|> FactoryInterface : implements
                        BigModelFactory --> Config : uses
                        XModelFactory --> Config : uses
                        BigModelFactory --> BigModel : creates
                        XModelFactory --> XModel : creates
                </div>
            </div>
        </div>

        <!-- 7. LLMé€šä¿¡æ¨¡å— -->
        <div class="module-section" id="llm-comm-module">
            <h2 class="module-title">7. LLMé€šä¿¡æ¨¡å— (LLM Communication Module)</h2>
            <div class="description">
                <p>å¤„ç†ä¸LLM APIçš„é€šä¿¡åè®®ï¼ŒåŒ…æ‹¬è¯·æ±‚æ¶ˆæ¯å°è£…ã€æµå¼å›è°ƒå¤„ç†å’Œæç¤ºè¯ç®¡ç†ã€‚ä½¿ç”¨<span class="highlight">å›è°ƒæ¨¡å¼</span>å¤„ç†å¼‚æ­¥å“åº”ã€‚</p>
            </div>
            <div class="mermaid-container">
                <div class="mermaid">
                    classDiagram
                        class POST {
                            -String model
                            -Boolean stream
                            -POSTMessage[] messages
                            +POST(String, Boolean, POSTMessage[])
                            +getters/setters()
                        }
                        
                        class POSTMessage {
                            -String role
                            -String content
                            +POSTMessage(String, String)
                            +getRole() String
                            +setRole(String) void
                            +getContent() String
                            +setContent(String) void
                        }
                        
                        class StreamCallback {
                            <<interface>>
                            +onData(String) void
                            +onError(String) void
                            +onComplete() void
                        }
                        
                        class Prompt {
                            +SYSTEM_PROMPT$ String
                            +USER_PROMPT$ String
                            +generatePrompt(String, String) String
                            +formatContent(String) String
                        }
                        
                        POST --> POSTMessage : contains
                        LLM --> StreamCallback : uses
                        LLM --> Prompt : uses
                </div>
            </div>
        </div>

        <!-- 8. ä¸»åº”ç”¨ç¨‹åºæ¨¡å— -->
        <div class="module-section" id="main-module">
            <h2 class="module-title">8. ä¸»åº”ç”¨ç¨‹åºæ¨¡å— (Main Application Module)</h2>
            <div class="description">
                <p>Spring Bootåº”ç”¨çš„å…¥å£ç‚¹ï¼Œä½¿ç”¨<span class="highlight">@SpringBootApplication</span>æ³¨è§£å¯åŠ¨æ•´ä¸ªåº”ç”¨ç¨‹åºã€‚</p>
            </div>
            <div class="mermaid-container">
                <div class="mermaid">
                    classDiagram
                        class BlogManagerApplication {
                            +main(String[]) void
                        }
                        
                        BlogManagerApplication : <<@SpringBootApplication>>
                </div>
            </div>
        </div>

        <!-- 9. æ¨¡å—é—´ä¾èµ–å…³ç³»å›¾ -->
        <div class="module-section" id="dependency-graph">
            <h2 class="module-title">9. æ¨¡å—é—´ä¾èµ–å…³ç³»å›¾</h2>
            <div class="description">
                <p>å±•ç¤ºç³»ç»Ÿå„æ¨¡å—é—´çš„ä¾èµ–å…³ç³»å’Œåˆ†å±‚æ¶æ„ã€‚é‡‡ç”¨ç»å…¸çš„<span class="highlight">MVCä¸‰å±‚æ¶æ„</span>ï¼šè¡¨ç°å±‚ã€ä¸šåŠ¡é€»è¾‘å±‚ã€æ•°æ®å±‚ã€‚</p>
            </div>
            <div class="mermaid-container">
                <div class="mermaid">
                    graph TD
                        A[BlogManagerApplication] --> B[Controller Module]
                        B --> C[Repository Module]
                        B --> D[LLM Service Module]
                        B --> E[Configuration Module]
                        C --> F[Model Module]
                        D --> G[LLM Factory Module]
                        D --> H[LLM Communication Module]
                        E --> F
                        G --> D
                        G --> E
                        
                        subgraph "è¡¨ç°å±‚"
                            B
                        end
                        
                        subgraph "ä¸šåŠ¡é€»è¾‘å±‚"
                            C
                            D
                            G
                            H
                        end
                        
                        subgraph "æ•°æ®å±‚"
                            F
                            E
                        end
                </div>
            </div>
        </div>

        <!-- 10. å…³é”®è®¾è®¡æ¨¡å¼ -->
        <div class="pattern-section" id="design-patterns">
            <h2>ğŸ¨ å…³é”®è®¾è®¡æ¨¡å¼</h2>
            <div class="pattern-list">
                <div class="pattern-item">
                    <h3>ğŸ­ å·¥å‚æ¨¡å¼</h3>
                    <p><code>FactoryInterface</code>, <code>BigModelFactory</code>, <code>XModelFactory</code></p>
                    <p>ç”¨äºåˆ›å»ºä¸åŒç±»å‹çš„LLMå®ä¾‹ï¼Œä¾¿äºæ‰©å±•æ–°çš„æ¨¡å‹æ”¯æŒã€‚</p>
                </div>
                <div class="pattern-item">
                    <h3>ğŸ“‹ æ¨¡æ¿æ–¹æ³•æ¨¡å¼</h3>
                    <p><code>LLM</code>æŠ½è±¡ç±»</p>
                    <p>å®šä¹‰ç®—æ³•éª¨æ¶ï¼Œå­ç±»å®ç°å…·ä½“ç»†èŠ‚ï¼Œä¿è¯ä»£ç å¤ç”¨æ€§ã€‚</p>
                </div>
                <div class="pattern-item">
                    <h3>ğŸ“ å›è°ƒæ¨¡å¼</h3>
                    <p><code>StreamCallback</code>æ¥å£</p>
                    <p>å¤„ç†å¼‚æ­¥æµå¼å“åº”ï¼Œå®ç°éé˜»å¡é€šä¿¡ã€‚</p>
                </div>
                <div class="pattern-item">
                    <h3>ğŸ’‰ ä¾èµ–æ³¨å…¥</h3>
                    <p>Springæ¡†æ¶çš„<code>@Autowired</code>æ³¨è§£</p>
                    <p>å®ç°æ§åˆ¶åè½¬ï¼Œé™ä½ç»„ä»¶é—´è€¦åˆåº¦ã€‚</p>
                </div>
                <div class="pattern-item">
                    <h3>ğŸ—ï¸ MVCæ¨¡å¼</h3>
                    <p>Controller-Service-Repositoryæ¶æ„</p>
                    <p>åˆ†ç¦»å…³æ³¨ç‚¹ï¼Œæé«˜ä»£ç å¯ç»´æŠ¤æ€§å’Œå¯æµ‹è¯•æ€§ã€‚</p>
                </div>
            </div>
        </div>

        <!-- é¡µè„š -->
        <div class="footer">
            <p>ğŸ“ˆ åšå®¢ç®¡ç†ç³»ç»Ÿæ¶æ„è®¾è®¡ | ç”Ÿæˆäº 2025å¹´6æœˆ9æ—¥</p>
            <p>ğŸš€ é‡‡ç”¨Spring Boot + Mermaidå›¾è¡¨æŠ€æœ¯æ ˆ</p>
        </div>
    </div>

    <script>        // åˆå§‹åŒ– Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#e3f2fd',
                primaryTextColor: '#1565c0',
                primaryBorderColor: '#1976d2',
                lineColor: '#424242',
                secondaryColor: '#fff3e0',
                tertiaryColor: '#f3e5f5',
                background: '#ffffff',
                mainBkg: '#e3f2fd',
                secondBkg: '#fff3e0',
                tertiaryBkg: '#f3e5f5'
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            },
            classDiagram: {
                useMaxWidth: true,
                htmlLabels: true
            },
            logLevel: 'debug'
        });

        // æ£€æŸ¥Mermaidæ¸²æŸ“çŠ¶æ€
        setTimeout(() => {
            const mermaidElements = document.querySelectorAll('.mermaid');
            mermaidElements.forEach((element, index) => {
                if (element.innerHTML.includes('classDiagram') && !element.querySelector('svg')) {
                    console.warn(`Mermaid diagram ${index + 1} failed to render`);
                    // å°è¯•é‡æ–°æ¸²æŸ“
                    mermaid.init(undefined, element);
                }
            });
        }, 2000);

        // å¹³æ»‘æ»šåŠ¨åˆ°é”šç‚¹
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // æ·»åŠ åŠ è½½åŠ¨ç”»
        window.addEventListener('load', function() {
            document.body.style.opacity = '0';
            setTimeout(() => {
                document.body.style.transition = 'opacity 0.5s ease-in-out';
                document.body.style.opacity = '1';
            }, 100);
        });
    </script>
</body>
</html>
